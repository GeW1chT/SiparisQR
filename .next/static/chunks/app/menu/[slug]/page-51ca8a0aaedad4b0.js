(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{1195:function(e,t,s){Promise.resolve().then(s.bind(s,696))},696:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),a=s(2265),n=s(9376),i=s(9820),l=s(2381),c=s(9174),d=s(5805),o=s(1723),u=s(6275),x=s(1047),m=s(9397),f=s(3145);function h(){let e=(0,n.useParams)().slug,[t,s]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),[j,b]=(0,a.useState)("all"),[N,y]=(0,a.useState)([]),[w,k]=(0,a.useState)(!0),[C,z]=(0,a.useState)("");(0,a.useEffect)(()=>{q()},[e]);let q=async()=>{try{let t=await fetch("/api/menu/".concat(e));if(t.ok){let e=await t.json();s(e.table),p(e.products),g(e.categories)}else z("Men\xfc bulunamadı")}catch(e){z("Bir hata oluştu")}finally{k(!1)}},S=e=>{y(t=>t.find(t=>t.product.id===e.id)?t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{product:e,quantity:1}])},Z=e=>{y(t=>{let s=t.find(t=>t.product.id===e);return s&&s.quantity>1?t.map(t=>t.product.id===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.product.id!==e)})},R=e=>{let t=N.find(t=>t.product.id===e);return t?t.quantity:0},_=()=>N.reduce((e,t)=>e+t.product.price*t.quantity,0),E="all"===j?h:h.filter(e=>e.category.id===j);return w?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500"})}):C||!t?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-md mx-4",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{className:"text-center text-red-600",children:"Hata"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("p",{className:"text-center",children:C||"Masa bulunamadı"})})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t.restaurant.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Masa ",t.number]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"A\xe7ık: 09:00 - 23:00"})]})]})]}),N.length>0&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(l.z,{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["₺",_().toFixed(2)]})]}),(0,r.jsx)(c.C,{className:"absolute -top-2 -right-2 bg-red-500",children:N.reduce((e,t)=>e+t.quantity,0)})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,r.jsx)(l.z,{variant:"all"===j?"default":"outline",onClick:()=>b("all"),className:"whitespace-nowrap",children:"T\xfcm\xfc"}),v.map(e=>(0,r.jsx)(l.z,{variant:j===e.id?"default":"outline",onClick:()=>b(e.id),className:"whitespace-nowrap",children:e.name},e.id))]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-20",children:E.map(e=>{let t=R(e.id);return(0,r.jsx)(i.Zb,{className:"overflow-hidden",children:(0,r.jsxs)("div",{className:"flex",children:[e.image&&(0,r.jsx)("div",{className:"w-24 h-24 relative flex-shrink-0",children:(0,r.jsx)(f.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 p-4",children:[(0,r.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("p",{className:"text-lg font-bold text-orange-600",children:["₺",e.price.toFixed(2)]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.C,{variant:"secondary",children:e.category.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[t>0&&(0,r.jsx)(l.z,{size:"sm",variant:"outline",onClick:()=>Z(e.id),children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})}),t>0&&(0,r.jsx)("span",{className:"w-8 text-center font-semibold",children:t}),(0,r.jsx)(l.z,{size:"sm",onClick:()=>S(e),children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})})]})]})]})]})},e.id)})}),N.length>0&&(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[N.reduce((e,t)=>e+t.quantity,0)," \xfcr\xfcn"]}),(0,r.jsxs)("p",{className:"text-xl font-bold",children:["Toplam: ₺",_().toFixed(2)]})]}),(0,r.jsx)(l.z,{size:"lg",className:"px-8",children:"Sipariş Ver"})]})})})]})]})}},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437);s(2265);var a=s(535),n=s(3448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7495),i=s(535),l=s(3448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:s})),ref:t,...o})});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[697,588,971,117,744],function(){return e(e.s=1195)}),_N_E=e.O()}]);