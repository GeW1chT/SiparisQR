(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{6136:function(e,s,t){Promise.resolve().then(t.bind(t,4019))},5252:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4630:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8930:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4019:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(7437),a=t(605),n=t(9376),l=t(2265),i=t(9820),c=t(2381),d=t(279),o=t(9174),u=t(9763);let x=(0,u.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var f=t(9397);let m=(0,u.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var h=t(5252),g=t(3247),p=t(4630),v=t(8930);function j(){let{data:e,status:s}=(0,a.useSession)(),t=(0,n.useRouter)(),[u,j]=(0,l.useState)([]),[b,y]=(0,l.useState)([]),[N,w]=(0,l.useState)(""),[k,Z]=(0,l.useState)("all"),[C,z]=(0,l.useState)(!0),[S,M]=(0,l.useState)(!1),[O,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if("loading"!==s){if(!e){t.push("/portal/login");return}if("ADMIN"!==e.user.role){t.push("/");return}E()}},[e,s,t]);let E=async()=>{try{let[e,s]=await Promise.all([fetch("/api/categories"),fetch("/api/products")]);if(e.ok&&s.ok){let t=await e.json(),r=await s.json();j(t),y(r)}}catch(e){console.error("Error fetching menu data:",e)}finally{z(!1)}},_=b.filter(e=>{let s=e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase()),t="all"===k||e.category.id===k;return s&&t});return C?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Men\xfc Y\xf6netimi"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"\xdcr\xfcnlerinizi ve kategorilerinizi y\xf6netin"})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)(c.z,{onClick:()=>R(!0),variant:"outline",className:"flex items-center space-x-2",children:[(0,r.jsx)(x,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Kategori Ekle"})]}),(0,r.jsxs)(c.z,{onClick:()=>M(!0),className:"flex items-center space-x-2 bg-orange-600 hover:bg-orange-700",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"\xdcr\xfcn Ekle"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Toplam \xdcr\xfcn"}),(0,r.jsx)(m,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:b.length}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[b.filter(e=>e.available).length," aktif \xfcr\xfcn"]})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Kategori Sayısı"}),(0,r.jsx)(x,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:u.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Toplam kategori sayısı"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Ortalama Fiyat"}),(0,r.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["₺",b.length>0?(b.reduce((e,s)=>e+s.price,0)/b.length).toFixed(2):"0.00"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xdcr\xfcn başına ortalama"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(d.I,{placeholder:"\xdcr\xfcn ara...",value:N,onChange:e=>w(e.target.value),className:"pl-10"})]}),(0,r.jsxs)("select",{value:k,onChange:e=>Z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,r.jsx)("option",{value:"all",children:"T\xfcm Kategoriler"}),u.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e._count.products,")"]},e.id))]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Kategoriler"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>(0,r.jsxs)(i.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.ll,{className:"text-lg",children:e.name}),(0,r.jsx)(i.SZ,{children:e.description})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(c.z,{size:"sm",variant:"outline",children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.z,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",children:(0,r.jsx)(v.Z,{className:"h-4 w-4"})})]})]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)(o.C,{variant:"secondary",children:[e._count.products," \xfcr\xfcn"]})})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["\xdcr\xfcnler (",_.length,")"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,r.jsxs)(i.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,r.jsx)(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(i.ll,{className:"text-lg",children:e.name}),(0,r.jsx)(i.SZ,{className:"mt-1",children:e.description})]}),(0,r.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,r.jsx)(c.z,{size:"sm",variant:"outline",children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.z,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",children:(0,r.jsx)(v.Z,{className:"h-4 w-4"})})]})]})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.C,{variant:"outline",children:e.category.name}),(0,r.jsx)(o.C,{variant:e.available?"default":"secondary",children:e.available?"Aktif":"Pasif"})]}),(0,r.jsxs)("div",{className:"text-lg font-semibold text-orange-600",children:["₺",e.price.toFixed(2)]})]})})]},e.id))}),0===_.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(m,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\xdcr\xfcn bulunamadı"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Arama kriterlerinize uygun \xfcr\xfcn bulunamadı."}),(0,r.jsxs)(c.z,{onClick:()=>M(!0),className:"bg-orange-600 hover:bg-orange-700",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"İlk \xdcr\xfcn\xfcn\xfcz\xfc Ekleyin"]})]})]})]})}},9174:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var r=t(7437);t(2265);var a=t(535),n=t(3448);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...a})}},2381:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var r=t(7437),a=t(2265),n=t(7495),l=t(535),i=t(3448);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:a,size:l,className:t})),ref:s,...o})});d.displayName="Button"},9820:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var r=t(7437),a=t(2265),n=t(3448);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},279:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var r=t(7437),a=t(2265),n=t(3448);let l=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},3448:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(1994),a=t(3335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}}},function(e){e.O(0,[697,605,971,117,744],function(){return e(e.s=6136)}),_N_E=e.O()}]);