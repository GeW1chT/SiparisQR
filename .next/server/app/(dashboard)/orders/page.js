(()=>{var e={};e.id=709,e.ids=[709],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79316:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(88750),t(35866),t(32029);var r=t(23191),a=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["(dashboard)",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88750)),"C:\\dev\\SiparisQR\\src\\app\\(dashboard)\\orders\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\dev\\SiparisQR\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\dev\\SiparisQR\\src\\app\\(dashboard)\\orders\\page.tsx"],x="/(dashboard)/orders/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39319:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},28937:(e,s,t)=>{Promise.resolve().then(t.bind(t,11012))},38877:(e,s,t)=>{Promise.resolve().then(t.bind(t,45344))},54659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},30730:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},71821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},21405:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},91470:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},45344:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(10326),a=t(17577),i=t(77109),l=t(35047),n=t(29752),d=t(91664),c=t(38443),o=t(48998),x=t(30730),m=t(54659),u=t(91470),h=t(21405),p=t(71821),f=t(41137),g=t(24061),y=t(12714);let b={PENDING:{label:"Bekliyor",color:"bg-yellow-100 text-yellow-800",icon:o.Z},PREPARING:{label:"Hazırlanıyor",color:"bg-blue-100 text-blue-800",icon:x.Z},READY:{label:"Hazır",color:"bg-green-100 text-green-800",icon:m.Z},COMPLETED:{label:"Tamamlandı",color:"bg-gray-100 text-gray-800",icon:m.Z},CANCELLED:{label:"İptal",color:"bg-red-100 text-red-800",icon:u.Z}};function v(){let{data:e,status:s}=(0,i.useSession)();(0,l.useRouter)();let[t,u]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[N,k]=(0,a.useState)("all"),[w,P]=(0,a.useState)(!0),[C,E]=(0,a.useState)(null),R=async()=>{try{let e=await fetch("/api/orders");if(e.ok){let s=await e.json();u(s)}}catch(e){console.error("Error fetching orders:",e)}finally{P(!1)}},Z=async(e,s)=>{try{(await fetch(`/api/orders/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok&&R()}catch(e){console.error("Error updating order status:",e)}},z=e=>{let s=[];switch(e.status){case"PENDING":s.push(r.jsx(d.z,{size:"sm",onClick:()=>Z(e.id,"PREPARING"),className:"bg-blue-600 hover:bg-blue-700",children:"Onayla"},"accept")),s.push(r.jsx(d.z,{size:"sm",variant:"outline",onClick:()=>Z(e.id,"CANCELLED"),className:"text-red-600 hover:text-red-700",children:"İptal Et"},"cancel"));break;case"PREPARING":s.push(r.jsx(d.z,{size:"sm",onClick:()=>Z(e.id,"READY"),className:"bg-green-600 hover:bg-green-700",children:"Hazır"},"ready"));break;case"READY":s.push(r.jsx(d.z,{size:"sm",onClick:()=>Z(e.id,"COMPLETED"),className:"bg-gray-600 hover:bg-gray-700",children:"Teslim Et"},"complete"))}return s},S=e=>new Date(e).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),D=e=>new Date(e).toLocaleDateString("tr-TR");return w?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sipariş Takibi"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Gelen siparişleri y\xf6netin ve takip edin"})]}),(0,r.jsxs)(d.z,{onClick:R,variant:"outline",className:"flex items-center space-x-2",children:[r.jsx(h.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Yenile"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Bekleyen"}),r.jsx(o.Z,{className:"h-4 w-4 text-yellow-600"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(e=>"PENDING"===e.status).length})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Hazırlanıyor"}),r.jsx(x.Z,{className:"h-4 w-4 text-blue-600"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(e=>"PREPARING"===e.status).length})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Hazır"}),r.jsx(m.Z,{className:"h-4 w-4 text-green-600"})]}),r.jsx(n.aY,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(e=>"READY"===e.status).length})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"G\xfcnl\xfck Gelir"}),r.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["₺",t.filter(e=>"COMPLETED"===e.status&&new Date(e.createdAt).toDateString()===new Date().toDateString()).reduce((e,s)=>e+s.total,0).toFixed(2)]})})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx(f.Z,{className:"h-4 w-4 text-gray-500"}),(0,r.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,r.jsxs)("option",{value:"all",children:["T\xfcm Siparişler (",t.length,")"]}),(0,r.jsxs)("option",{value:"PENDING",children:["Bekleyen (",t.filter(e=>"PENDING"===e.status).length,")"]}),(0,r.jsxs)("option",{value:"PREPARING",children:["Hazırlanıyor (",t.filter(e=>"PREPARING"===e.status).length,")"]}),(0,r.jsxs)("option",{value:"READY",children:["Hazır (",t.filter(e=>"READY"===e.status).length,")"]}),(0,r.jsxs)("option",{value:"COMPLETED",children:["Tamamlandı (",t.filter(e=>"COMPLETED"===e.status).length,")"]}),(0,r.jsxs)("option",{value:"CANCELLED",children:["İptal (",t.filter(e=>"CANCELLED"===e.status).length,")"]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[v.map(e=>{let s=b[e.status].icon;return(0,r.jsxs)(n.Zb,{className:"hover:shadow-md transition-shadow",children:[r.jsx(n.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[r.jsx(g.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Masa ",e.table.number]}),(0,r.jsxs)(c.C,{className:b[e.status].color,children:[r.jsx(s,{className:"h-3 w-3 mr-1"}),b[e.status].label]})]}),(0,r.jsxs)(n.SZ,{className:"mt-1",children:[D(e.createdAt)," - ",S(e.createdAt),e.customerName&&` • ${e.customerName}`]})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-orange-600",children:["₺",e.total.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.items.length," \xfcr\xfcn"]})]}),r.jsx(d.z,{size:"sm",variant:"outline",onClick:()=>E(e),children:r.jsx(y.Z,{className:"h-4 w-4"})})]})]})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"\xdcr\xfcnler:"})," ",e.items.map(e=>`${e.product.name} (${e.quantity}x)`).join(", ")]}),e.notes&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Not:"})," ",e.notes]})]}),r.jsx("div",{className:"flex space-x-2 ml-4",children:z(e)})]})})]},e.id)}),0===v.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sipariş bulunamadı"}),r.jsx("p",{className:"text-gray-600",children:"all"===N?"Hen\xfcz sipariş bulunmuyor.":`${b[N]?.label} durumunda sipariş bulunmuyor.`})]})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)(n.Zb,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(n.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center space-x-2",children:[r.jsx(g.Z,{className:"h-5 w-5"}),(0,r.jsxs)("span",{children:["Masa ",C.table.number," - Sipariş Detayı"]})]}),(0,r.jsxs)(n.SZ,{children:[D(C.createdAt)," - ",S(C.createdAt)]})]}),r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>E(null),children:"✕"})]})}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(c.C,{className:b[C.status].color,children:[(()=>{let e=b[C.status].icon;return r.jsx(e,{className:"h-3 w-3 mr-1"})})(),b[C.status].label]}),(0,r.jsxs)("div",{className:"text-xl font-semibold text-orange-600",children:["₺",C.items.reduce((e,s)=>e+s.price*s.quantity,0).toFixed(2)]})]}),C.customerName&&(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"M\xfcşteri:"})," ",C.customerName,C.customerPhone&&` - ${C.customerPhone}`]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sipariş Detayları:"}),r.jsx("div",{className:"space-y-2",children:C.items.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:e.product.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["₺",e.product.price.toFixed(2)," x ",e.quantity]})]}),(0,r.jsxs)("div",{className:"font-semibold",children:["₺",(e.price*e.quantity).toFixed(2)]})]},e.id))})]}),C.notes&&(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"\xd6zel Not:"}),r.jsx("p",{className:"mt-1 p-2 bg-gray-50 rounded",children:C.notes})]}),r.jsx("div",{className:"flex space-x-2 pt-4",children:z(C)})]})})]})})]})}},11012:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>i});var r=t(10326),a=t(77109);function i({children:e}){return r.jsx(a.SessionProvider,{children:e})}},38443:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var r=t(10326);t(17577);var a=t(79360),i=t(51223);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return r.jsx("div",{className:(0,i.cn)(l({variant:s}),e),...t})}},91664:(e,s,t)=>{"use strict";t.d(s,{z:()=>c});var r=t(10326),a=t(17577),i=t(34214),l=t(79360),n=t(51223);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...l},c)=>{let o=a?i.g7:"button";return r.jsx(o,{className:(0,n.cn)(d({variant:s,size:t,className:e})),ref:c,...l})});c.displayName="Button"},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>l,aY:()=>o,ll:()=>d});var r=t(10326),a=t(17577),i=t(51223);let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));l.displayName="Card";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},51223:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var r=t(41135),a=t(31009);function i(...e){return(0,a.m6)((0,r.W)(e))}},88750:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\dev\SiparisQR\src\app\(dashboard)\orders\page.tsx#default`)},32029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>n,viewport:()=>d});var r=t(19510),a=t(25384),i=t.n(a),l=t(47799);t(5023);let n={title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!",keywords:"qr siparis, restaurant, menu, siparis sistemi, qr kod, turkiye",authors:[{name:"SiparisQR Team"}],robots:"index, follow",openGraph:{title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!",type:"website",locale:"tr_TR"},twitter:{card:"summary_large_image",title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!"}},d={width:"device-width",initialScale:1};function c({children:e}){return r.jsx("html",{lang:"tr",children:r.jsx("body",{className:i().className,children:r.jsx(l.C,{children:e})})})}},47799:(e,s,t)=>{"use strict";t.d(s,{C:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\dev\SiparisQR\src\components\providers.tsx#Providers`)},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,5819,515],()=>t(79316));module.exports=r})();