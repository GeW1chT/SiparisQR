"use strict";(()=>{var e={};e.id=3446,e.ids=[3446],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50118:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{GET:()=>c,POST:()=>p});var a=t(49303),n=t(88716),i=t(60670),o=t(87070),u=t(13538),l=t(79714);async function p(e){try{let{slug:r}=await e.json();if(!r||"string"!=typeof r)return o.NextResponse.json({error:"Slug is required"},{status:400});if(!(0,l.L$)(r))return o.NextResponse.json({available:!1,error:"Slug format is invalid. Use only lowercase letters, numbers, and hyphens."},{status:400});if(!(0,l.zC)(r))return o.NextResponse.json({available:!1,error:"This slug is reserved and cannot be used."},{status:400});if(await u._.restaurant.findUnique({where:{slug:r},select:{id:!0}}))return o.NextResponse.json({available:!1,error:"This slug is already taken."},{status:400});return o.NextResponse.json({available:!0,message:"Slug is available!"})}catch(e){return console.error("Slug check error:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e){let{searchParams:r}=new URL(e.url),t=r.get("slug");if(!t)return o.NextResponse.json({error:"Slug parameter is required"},{status:400});try{if(!(0,l.L$)(t))return o.NextResponse.json({available:!1,error:"Slug format is invalid"});if(!(0,l.zC)(t))return o.NextResponse.json({available:!1,error:"This slug is reserved"});let e=await u._.restaurant.findUnique({where:{slug:t},select:{id:!0}});return o.NextResponse.json({available:!e,message:e?"Slug is taken":"Slug is available"})}catch(e){return console.error("Slug check error:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/slug/check/route",pathname:"/api/slug/check",filename:"route",bundlePath:"app/api/slug/check/route"},resolvedPagePath:"C:\\dev\\SiparisQR\\src\\app\\api\\slug\\check\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:v}=d,m="/api/slug/check/route";function f(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:h})}},13538:(e,r,t)=>{t.d(r,{_:()=>a});var s=t(53524);let a=globalThis.prisma??new s.PrismaClient({log:["query"]})},79714:(e,r,t)=>{function s(e){return e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().replace(/^-+|-+$/g,"")}function a(e){return/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(e)&&e.length>=3&&e.length<=50}function n(e){return!["www","api","admin","portal","yonetim","app","mail","ftp","blog","help","support","contact","about","pricing","terms","privacy","login","register","dashboard","kitchen","menu"].includes(e.toLowerCase())}function i(e,r){let t=e,s=1;for(;r.includes(t)||!n(t);)t=`${e}-${s}`,s++;return t}t.d(r,{GD:()=>s,L$:()=>a,Ov:()=>i,zC:()=>n})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9276,5972],()=>t(50118));module.exports=s})();