(()=>{var e={};e.id=8054,e.ids=[8054],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27765:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),r(14896),r(32029),r(35866);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["kitchen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14896)),"C:\\dev\\SiparisQR\\src\\app\\kitchen\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\dev\\SiparisQR\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\dev\\SiparisQR\\src\\app\\kitchen\\page.tsx"],x="/kitchen/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/kitchen/page",pathname:"/kitchen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},39319:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},28937:(e,t,r)=>{Promise.resolve().then(r.bind(r,11012))},27436:(e,t,r)=>{Promise.resolve().then(r.bind(r,58317))},87888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},54659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},30730:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]])},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},21405:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},58317:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(10326),a=r(77109),i=r(35047),n=r(17577),l=r(29752),d=r(91664),o=r(38443),c=r(48998),x=r(30730),m=r(54659),u=r(87888),p=r(21405),h=r(24061),g=r(76557);let f=(0,g.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),y=(0,g.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),b={PENDING:{label:"Bekliyor",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:c.Z,priority:1},PREPARING:{label:"Hazırlanıyor",color:"bg-blue-100 text-blue-800 border-blue-200",icon:x.Z,priority:2},READY:{label:"Hazır",color:"bg-green-100 text-green-800 border-green-200",icon:m.Z,priority:3},DELIVERED:{label:"Teslim Edildi",color:"bg-gray-100 text-gray-800 border-gray-200",icon:m.Z,priority:4},CANCELLED:{label:"İptal",color:"bg-red-100 text-red-800 border-red-200",icon:u.Z,priority:5}};function v(){let e;let{data:t,status:r}=(0,a.useSession)();(0,i.useRouter)();let[u,g]=(0,n.useState)([]),[v,j]=(0,n.useState)(!0),[N,k]=(0,n.useState)("all"),[w,R]=(0,n.useState)(!0),E=async()=>{try{let e=await fetch("/api/kitchen/orders");if(e.ok){let t=await e.json();g(t)}}catch(e){console.error("Error fetching orders:",e)}finally{j(!1)}},P=async(e,t)=>{try{(await fetch(`/api/orders/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok&&E()}catch(e){console.error("Error updating order status:",e)}},C=e=>{let t=new Date,r=new Date(e),s=Math.floor((t.getTime()-r.getTime())/6e4);return s<1?"Az \xf6nce":s<60?`${s} dk \xf6nce`:`${Math.floor(s/60)}s ${s%60}dk \xf6nce`},Z=e=>{switch(e){case"PENDING":return"PREPARING";case"PREPARING":return"READY";case"READY":return"DELIVERED";default:return null}},D=e=>{let t=Z(e);return t?b[t].label:null};if(v)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500"})});let A=(e=u,"all"!==N&&(e=e.filter(e=>e.status===N)),e.sort((e,t)=>{let r=b[e.status].priority,s=b[t.status].priority;return r!==s?r-s:new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()})),S={pending:u.filter(e=>"PENDING"===e.status).length,preparing:u.filter(e=>"PREPARING"===e.status).length,ready:u.filter(e=>"READY"===e.status).length,total:u.length};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(x.Z,{className:"h-8 w-8 text-orange-600"}),s.jsx("span",{children:"Mutfak Paneli"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Siparişleri takip edin ve durumlarını g\xfcncelleyin"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"auto-refresh",checked:w,onChange:e=>R(e.target.checked),className:"rounded"}),s.jsx("label",{htmlFor:"auto-refresh",className:"text-sm text-gray-600",children:"Otomatik yenile"})]}),(0,s.jsxs)(d.z,{onClick:E,variant:"outline",size:"sm",children:[s.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Yenile"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Bekleyen"}),s.jsx(c.Z,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Yeni siparişler"})]})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Hazırlanıyor"}),s.jsx(x.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.preparing}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mutfakta"})]})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Hazır"}),s.jsx(m.Z,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.ready}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Teslim bekliyor"})]})]}),(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(l.ll,{className:"text-sm font-medium",children:"Toplam"}),s.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Aktif siparişler"})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg w-fit",children:[(0,s.jsxs)("button",{onClick:()=>k("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"all"===N?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["T\xfcm\xfc (",u.length,")"]}),(0,s.jsxs)("button",{onClick:()=>k("PENDING"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"PENDING"===N?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Bekleyen (",S.pending,")"]}),(0,s.jsxs)("button",{onClick:()=>k("PREPARING"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"PREPARING"===N?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Hazırlanıyor (",S.preparing,")"]}),(0,s.jsxs)("button",{onClick:()=>k("READY"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"READY"===N?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Hazır (",S.ready,")"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.map(e=>{let t=b[e.status],r=t.icon,a=D(e.status),i=C(e.createdAt),n=new Date().getTime()-new Date(e.createdAt).getTime()>12e5;return(0,s.jsxs)(l.Zb,{className:`hover:shadow-md transition-shadow ${n&&"DELIVERED"!==e.status?"ring-2 ring-red-200":""}`,children:[s.jsx(l.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[s.jsx(h.Z,{className:"h-5 w-5"}),(0,s.jsxs)("span",{children:["Masa ",e.table.number]}),n&&"DELIVERED"!==e.status&&s.jsx(f,{className:"h-4 w-4 text-red-500 animate-pulse"})]}),(0,s.jsxs)(l.SZ,{className:"flex items-center space-x-2 mt-1",children:[s.jsx(y,{className:"h-3 w-3"}),s.jsx("span",{children:i}),e.customerName&&(0,s.jsxs)("span",{children:["• ",e.customerName]})]})]}),(0,s.jsxs)(o.C,{className:`${t.color} border`,children:[s.jsx(r,{className:"h-3 w-3 mr-1"}),t.label]})]})}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:e.items.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start text-sm",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.quantity,"x ",e.product.name]}),e.notes&&(0,s.jsxs)("div",{className:"text-gray-600 text-xs mt-1",children:["Not: ",e.notes]})]}),(0,s.jsxs)("div",{className:"text-gray-600",children:["₺",(e.product.price*e.quantity).toFixed(2)]})]},e.id))}),s.jsx("div",{className:"border-t pt-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[s.jsx("span",{children:"Toplam:"}),(0,s.jsxs)("span",{children:["₺",e.total.toFixed(2)]})]})}),(0,s.jsxs)("div",{className:"flex space-x-2 pt-2",children:[a&&s.jsx(d.z,{size:"sm",className:"flex-1 bg-orange-600 hover:bg-orange-700",onClick:()=>P(e.id,Z(e.status)),children:a}),"CANCELLED"!==e.status&&"DELIVERED"!==e.status&&s.jsx(d.z,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",onClick:()=>P(e.id,"CANCELLED"),children:"İptal"})]})]})})]},e.id)}),0===A.length&&(0,s.jsxs)("div",{className:"col-span-full text-center py-12",children:[s.jsx(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"all"===N?"Hen\xfcz sipariş yok":`${b[N]?.label||"Se\xe7ili durumda"} sipariş yok`}),s.jsx("p",{className:"text-gray-600",children:"all"===N?"Yeni siparişler geldiğinde burada g\xf6r\xfcnecek.":"Bu durumda sipariş bulunmuyor."})]})]})]})}},11012:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>i});var s=r(10326),a=r(77109);function i({children:e}){return s.jsx(a.SessionProvider,{children:e})}},38443:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(10326);r(17577);var a=r(79360),i=r(51223);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return s.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},91664:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var s=r(10326),a=r(17577),i=r(34214),n=r(79360),l=r(51223);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},o)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,l.cn)(d({variant:t,size:r,className:e})),ref:o,...n})});o.displayName="Button"},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>c,ll:()=>d});var s=r(10326),a=r(17577),i=r(51223);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},51223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(41135),a=r(31009);function i(...e){return(0,a.m6)((0,s.W)(e))}},14896:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\dev\SiparisQR\src\app\kitchen\page.tsx#default`)},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l,viewport:()=>d});var s=r(19510),a=r(25384),i=r.n(a),n=r(47799);r(5023);let l={title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!",keywords:"qr siparis, restaurant, menu, siparis sistemi, qr kod, turkiye",authors:[{name:"SiparisQR Team"}],robots:"index, follow",openGraph:{title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!",type:"website",locale:"tr_TR"},twitter:{card:"summary_large_image",title:"SiparisQR - Turkiye'nin En Hizli QR Siparis Sistemi",description:"5 dakikada kurulum, 99TL/ay'dan baslar. QR taradiniz, siparis verdiniz, mutfaga gitsin!"}},d={width:"device-width",initialScale:1};function o({children:e}){return s.jsx("html",{lang:"tr",children:s.jsx("body",{className:i().className,children:s.jsx(n.C,{children:e})})})}},47799:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\dev\SiparisQR\src\components\providers.tsx#Providers`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5819,515],()=>r(27765));module.exports=s})();