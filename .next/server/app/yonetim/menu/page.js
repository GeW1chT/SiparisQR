(()=>{var e={};e.id=9828,e.ids=[9828],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18954:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c}),s(91962),s(45922),s(32029),s(35866);var i=s(23191),r=s(88716),t=s(37922),l=s.n(t),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let c=["",{children:["yonetim",{children:["menu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91962)),"C:\\dev\\SiparisQR\\src\\app\\yonetim\\menu\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,45922)),"C:\\dev\\SiparisQR\\src\\app\\yonetim\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"C:\\dev\\SiparisQR\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\dev\\SiparisQR\\src\\app\\yonetim\\menu\\page.tsx"],m="/yonetim/menu/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/yonetim/menu/page",pathname:"/yonetim/menu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},34261:(e,a,s)=>{Promise.resolve().then(s.bind(s,18863))},91216:(e,a,s)=>{"use strict";s.d(a,{Z:()=>i});let i=(0,s(76557).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},88307:(e,a,s)=>{"use strict";s.d(a,{Z:()=>i});let i=(0,s(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},18863:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var i=s(10326),r=s(77109),t=s(35047),l=s(17577),n=s(29752),d=s(91664),c=s(41190),o=s(44794),m=s(82015),p=s(38443),x=s(83855),h=s(88307),u=s(70003),g=s(98091),j=s(12714),f=s(91216),y=s(72703),v=s(29280);function b(){let{data:e,status:a}=(0,r.useSession)();(0,t.useRouter)();let[s,b]=(0,l.useState)([]),[N,w]=(0,l.useState)([]),[k,C]=(0,l.useState)(!0),[_,z]=(0,l.useState)(""),[P,S]=(0,l.useState)("all"),[Z,q]=(0,l.useState)(!1),[E,R]=(0,l.useState)(!1),[T,A]=(0,l.useState)(null),[I,K]=(0,l.useState)(null),[O,F]=(0,l.useState)({name:"",description:"",price:"",categoryId:"",image:"",available:!0}),[G,Q]=(0,l.useState)({name:"",description:""}),Y=async()=>{try{let[e,a]=await Promise.all([fetch("/api/products"),fetch("/api/categories")]);if(e.ok&&a.ok){let[s,i]=await Promise.all([e.json(),a.json()]);b(s),w(i)}}catch(e){console.error("Data fetch error:",e)}finally{C(!1)}},$=async e=>{e.preventDefault();try{let e=T?`/api/products/${T.id}`:"/api/products";(await fetch(e,{method:T?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...O,price:parseFloat(O.price)})})).ok&&(Y(),q(!1),L())}catch(e){console.error("Product save error:",e)}},B=async e=>{e.preventDefault();try{let e=I?`/api/categories/${I.id}`:"/api/categories";(await fetch(e,{method:I?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})).ok&&(Y(),R(!1),J())}catch(e){console.error("Category save error:",e)}},M=async e=>{if(confirm("Bu \xfcr\xfcn\xfc silmek istediğinizden emin misiniz?"))try{(await fetch(`/api/products/${e}`,{method:"DELETE"})).ok&&Y()}catch(e){console.error("Product delete error:",e)}},V=async e=>{if(confirm("Bu kategoriyi silmek istediğinizden emin misiniz? İ\xe7indeki t\xfcm \xfcr\xfcnler de silinecek."))try{(await fetch(`/api/categories/${e}`,{method:"DELETE"})).ok&&Y()}catch(e){console.error("Category delete error:",e)}},D=async(e,a)=>{try{(await fetch(`/api/products/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available:a})})).ok&&Y()}catch(e){console.error("Product availability update error:",e)}},L=()=>{F({name:"",description:"",price:"",categoryId:"",image:"",available:!0}),A(null)},J=()=>{Q({name:"",description:""}),K(null)},U=e=>{e?(A(e),F({name:e.name,description:e.description||"",price:e.price.toString(),categoryId:e.categoryId,image:e.image||"",available:e.available})):L(),q(!0)},H=e=>{e?(K(e),Q({name:e.name,description:e.description||""})):J(),R(!0)},X=s.filter(e=>{let a=e.name.toLowerCase().includes(_.toLowerCase())||e.description?.toLowerCase().includes(_.toLowerCase()),s="all"===P||e.categoryId===P;return a&&s});return"loading"===a||k?i.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,i.jsxs)("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),i.jsx("div",{className:"grid gap-4",children:[...Array(6)].map((e,a)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},a))})]})}):e?(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Men\xfc Y\xf6netimi"}),i.jsx("p",{className:"text-gray-600",children:"\xdcr\xfcnlerinizi ve kategorilerinizi y\xf6netin"})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx(y.Vq,{open:E,onOpenChange:R,children:i.jsx(y.hg,{asChild:!0,children:(0,i.jsxs)(d.z,{variant:"outline",onClick:()=>H(),children:[i.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Kategori Ekle"]})})}),i.jsx(y.Vq,{open:Z,onOpenChange:q,children:i.jsx(y.hg,{asChild:!0,children:(0,i.jsxs)(d.z,{onClick:()=>U(),children:[i.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"\xdcr\xfcn Ekle"]})})})]})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(c.I,{placeholder:"\xdcr\xfcn ara...",value:_,onChange:e=>z(e.target.value),className:"pl-10"})]})}),(0,i.jsxs)(v.Ph,{value:P,onValueChange:S,children:[i.jsx(v.i4,{className:"w-full sm:w-48",children:i.jsx(v.ki,{placeholder:"Kategori se\xe7"})}),(0,i.jsxs)(v.Bw,{children:[i.jsx(v.Ql,{value:"all",children:"T\xfcm Kategoriler"}),N.map(e=>i.jsx(v.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,i.jsxs)("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Kategoriler"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>{let a=s.filter(a=>a.categoryId===e.id).length;return i.jsx(n.Zb,{children:(0,i.jsxs)(n.aY,{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"flex space-x-1",children:[i.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>H(e),children:i.jsx(u.Z,{className:"h-3 w-3"})}),i.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>V(e.id),children:i.jsx(g.Z,{className:"h-3 w-3"})})]})]}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,i.jsxs)(p.C,{variant:"secondary",children:[a," \xfcr\xfcn"]})]})},e.id)})})]}),(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"\xdcr\xfcnler"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(e=>i.jsx(n.Zb,{className:e.available?"":"opacity-60",children:(0,i.jsxs)(n.aY,{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600",children:e.category.name})]}),(0,i.jsxs)("div",{className:"flex space-x-1",children:[i.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>D(e.id,!e.available),children:e.available?i.jsx(j.Z,{className:"h-3 w-3"}):i.jsx(f.Z,{className:"h-3 w-3"})}),i.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>U(e),children:i.jsx(u.Z,{className:"h-3 w-3"})}),i.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>M(e.id),children:i.jsx(g.Z,{className:"h-3 w-3"})})]})]}),e.image&&i.jsx("div",{className:"w-full h-32 bg-gray-100 rounded mb-3 flex items-center justify-center",children:i.jsx("img",{src:e.image,alt:e.name,className:"max-w-full max-h-full object-cover rounded"})}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-lg font-bold",children:["₺",e.price.toFixed(2)]}),i.jsx(p.C,{variant:e.available?"default":"secondary",children:e.available?"Mevcut":"T\xfckendi"})]})]})},e.id))})]}),i.jsx(y.Vq,{open:Z,onOpenChange:q,children:(0,i.jsxs)(y.cZ,{className:"sm:max-w-md",children:[(0,i.jsxs)(y.fK,{children:[i.jsx(y.$N,{children:T?"\xdcr\xfcn D\xfczenle":"Yeni \xdcr\xfcn Ekle"}),i.jsx(y.Be,{children:T?"\xdcr\xfcn bilgilerini g\xfcncelleyin":"Yeni bir \xfcr\xfcn ekleyin"})]}),(0,i.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"product-name",children:"\xdcr\xfcn Adı"}),i.jsx(c.I,{id:"product-name",value:O.name,onChange:e=>F({...O,name:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"product-category",children:"Kategori"}),(0,i.jsxs)(v.Ph,{value:O.categoryId,onValueChange:e=>F({...O,categoryId:e}),children:[i.jsx(v.i4,{children:i.jsx(v.ki,{placeholder:"Kategori se\xe7in"})}),i.jsx(v.Bw,{children:N.map(e=>i.jsx(v.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"product-price",children:"Fiyat (₺)"}),i.jsx(c.I,{id:"product-price",type:"number",step:"0.01",value:O.price,onChange:e=>F({...O,price:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"product-description",children:"A\xe7ıklama"}),i.jsx(m.g,{id:"product-description",value:O.description,onChange:e=>F({...O,description:e.target.value})})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"product-image",children:"G\xf6rsel URL"}),i.jsx(c.I,{id:"product-image",type:"url",value:O.image,onChange:e=>F({...O,image:e.target.value})})]}),(0,i.jsxs)(y.cN,{children:[i.jsx(d.z,{type:"button",variant:"outline",onClick:()=>q(!1),children:"İptal"}),i.jsx(d.z,{type:"submit",children:T?"G\xfcncelle":"Ekle"})]})]})]})}),i.jsx(y.Vq,{open:E,onOpenChange:R,children:(0,i.jsxs)(y.cZ,{className:"sm:max-w-md",children:[(0,i.jsxs)(y.fK,{children:[i.jsx(y.$N,{children:I?"Kategori D\xfczenle":"Yeni Kategori Ekle"}),i.jsx(y.Be,{children:I?"Kategori bilgilerini g\xfcncelleyin":"Yeni bir kategori ekleyin"})]}),(0,i.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"category-name",children:"Kategori Adı"}),i.jsx(c.I,{id:"category-name",value:G.name,onChange:e=>Q({...G,name:e.target.value}),required:!0})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"category-description",children:"A\xe7ıklama"}),i.jsx(m.g,{id:"category-description",value:G.description,onChange:e=>Q({...G,description:e.target.value})})]}),(0,i.jsxs)(y.cN,{children:[i.jsx(d.z,{type:"button",variant:"outline",onClick:()=>R(!1),children:"İptal"}),i.jsx(d.z,{type:"submit",children:I?"G\xfcncelle":"Ekle"})]})]})]})})]}):null}},29280:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>u,Ph:()=>o,Ql:()=>g,i4:()=>p,ki:()=>m});var i=s(10326),r=s(17577),t=s(49578),l=s(941),n=s(96633),d=s(32933),c=s(51223);let o=t.fC;t.ZA;let m=t.B4,p=r.forwardRef(({className:e,children:a,...s},r)=>(0,i.jsxs)(t.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,i.jsx(t.JO,{asChild:!0,children:i.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=t.xz.displayName;let x=r.forwardRef(({className:e,...a},s)=>i.jsx(t.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:i.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=t.u_.displayName;let h=r.forwardRef(({className:e,...a},s)=>i.jsx(t.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:i.jsx(l.Z,{className:"h-4 w-4"})}));h.displayName=t.$G.displayName;let u=r.forwardRef(({className:e,children:a,position:s="popper",...r},l)=>i.jsx(t.h_,{children:(0,i.jsxs)(t.VY,{ref:l,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[i.jsx(x,{}),i.jsx(t.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),i.jsx(h,{})]})}));u.displayName=t.VY.displayName,r.forwardRef(({className:e,...a},s)=>i.jsx(t.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=t.__.displayName;let g=r.forwardRef(({className:e,children:a,...s},r)=>(0,i.jsxs)(t.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(t.wU,{children:i.jsx(d.Z,{className:"h-4 w-4"})})}),i.jsx(t.eT,{children:a})]}));g.displayName=t.ck.displayName,r.forwardRef(({className:e,...a},s)=>i.jsx(t.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=t.Z0.displayName},82015:(e,a,s)=>{"use strict";s.d(a,{g:()=>l});var i=s(10326),r=s(17577),t=s(51223);let l=r.forwardRef(({className:e,...a},s)=>i.jsx("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));l.displayName="Textarea"},91962:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});let i=(0,s(68570).createProxy)(String.raw`C:\dev\SiparisQR\src\app\yonetim\menu\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),i=a.X(0,[9276,5819,515,6206,1216,6791],()=>s(18954));module.exports=i})();